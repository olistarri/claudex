@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  color-scheme: light;
}

:root[data-theme='dark'] {
  color-scheme: dark;
}

html,
body,
#root {
  @apply bg-surface text-text-primary dark:bg-surface-dark dark:text-text-dark-primary;
}

#root {
  min-height: 100vh;
  min-height: 100dvh;
}

@layer utilities {
  .h-viewport {
    height: 100vh;
    height: 100dvh;
  }

  .min-h-viewport {
    min-height: 100vh;
    min-height: 100dvh;
  }

  .break-word-wrap {
    word-wrap: break-word;
    overflow-wrap: break-word;
  }

  .scrollbar-none {
    scrollbar-width: none;
    -ms-overflow-style: none;
  }

  .scrollbar-none::-webkit-scrollbar {
    display: none;
  }

  @keyframes fade-in {
    from {
      opacity: 0;
      transform: translateY(4px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  .animate-fade-in {
    animation: fade-in 0.3s ease-out;
  }

  @keyframes float {
    0%,
    100% {
      transform: translateY(0px);
    }
    50% {
      transform: translateY(-6px);
    }
  }

  .animate-float {
    animation: float 3s ease-in-out infinite;
  }

  @keyframes bounce-vertical {
    0%,
    100% {
      transform: translateY(0px);
    }
    50% {
      transform: translateY(-8px);
    }
  }

  .animate-bounce-vertical {
    animation: bounce-vertical 2s ease-in-out infinite;
  }

  .animate-bounce-vertical:hover {
    animation-play-state: paused;
  }

  .animate-in {
    animation: enter 0.2s ease-out;
  }

  .fade-in {
    --tw-enter-opacity: 0;
  }

  .slide-in-from-top-2 {
    --tw-enter-translate-y: -0.5rem;
  }

  .slide-in-from-left-3 {
    --tw-enter-translate-x: -0.75rem;
  }

  .zoom-in-50 {
    --tw-enter-scale: 0.5;
  }

  @keyframes enter {
    from {
      opacity: var(--tw-enter-opacity, 1);
      transform: translate(var(--tw-enter-translate-x, 0), var(--tw-enter-translate-y, 0))
        scale(var(--tw-enter-scale, 1));
    }
    to {
      opacity: 1;
      transform: translate(0, 0) scale(1);
    }
  }
}

body {
  max-width: 100vw;
}

@media (prefers-reduced-motion: reduce) {
  * {
    transition: none !important;
  }
}

/* Global scrollbar styling - universal selectors */
* {
  scrollbar-width: thin;
  scrollbar-color: theme('colors.border.DEFAULT') transparent;
}

*::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

*::-webkit-scrollbar-track {
  background: transparent;
}

*::-webkit-scrollbar-thumb {
  background-color: theme('colors.border.DEFAULT');
  border-radius: 4px;
  transition: background-color 0.2s ease;
}

*::-webkit-scrollbar-thumb:hover {
  background-color: theme('colors.border.secondary');
}

*::-webkit-scrollbar-corner {
  background: transparent;
}

/* Dark mode scrollbar styling */
.dark * {
  scrollbar-color: theme('colors.border.dark.DEFAULT') transparent;
}

.dark *::-webkit-scrollbar-thumb {
  background-color: theme('colors.border.dark.DEFAULT');
}

.dark *::-webkit-scrollbar-thumb:hover {
  background-color: theme('colors.border.dark.hover');
}

/* Accessibility: Respect reduced motion preferences */
@media (prefers-reduced-motion: reduce) {
  *::-webkit-scrollbar-thumb {
    transition: none;
  }
}

.mermaid-container {
  font-family:
    system-ui,
    -apple-system,
    BlinkMacSystemFont,
    'Segoe UI',
    Roboto,
    'Helvetica Neue',
    Arial,
    sans-serif;
}

.mermaid-container svg {
  display: block;
  width: 100% !important;
  max-width: 100%;
  height: auto !important;
}

.mermaid-container svg text {
  font-size: 10px !important;
  font-family:
    system-ui,
    -apple-system,
    BlinkMacSystemFont,
    'Segoe UI',
    Roboto,
    'Helvetica Neue',
    Arial,
    sans-serif !important;
}

.mermaid-container svg .node rect,
.mermaid-container svg .node circle,
.mermaid-container svg .node ellipse,
.mermaid-container svg .node polygon {
  stroke-width: 1px;
}

.mermaid-container svg .edgeLabel {
  font-size: 9px !important;
}

.mermaid-container svg .nodeLabel {
  font-size: 10px !important;
}

.vnc-screen canvas {
  width: 100% !important;
  height: 100% !important;
  object-fit: fill;
}

.message-item {
  content-visibility: auto;
  contain-intrinsic-size: auto 120px;
}
